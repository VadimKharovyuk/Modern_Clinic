<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Личный кабинет пациента</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
        }
        header {
            background: #333;
            color: #fff;
            padding-top: 30px;
            min-height: 70px;
            border-bottom: #0779e4 3px solid;
        }
        header a, header h1 {
            text-decoration: none;
            color: #fff;
            text-align: center;
        }
        .profile {
            background: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .appointments {
            background: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .appointment-item {
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }
        .appointment-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
<header>

    <div class="container">
        <h1>Личный кабинет пациента</h1>
        <a href="/logout">Выйти</a><br><br>
        <div th:if="${user.role.name() == 'ADMIN'}" class="admin-link">
            <a th:href="@{/admin/dashboard}">Админ Панель</a>
        </div>
        <div th:if="${user.role.name()=='DOCTOR'}" class="admin-link">
            <a th:href="@{/doctor/account}"> Доктор Панель</a>
        </div>

    </div>

</header>
<div class="container">
    <h1>Серис клиники  </h1>

    <p><a href="/">На главную страницу</a></p>
    <p><a href="/doctor/list">Список Докторов</a></p>
    <p><a href="/appointment/form">записаться к доктору</a></p>
<!--    <p><a href="/patient/form">Заполнить  Мед Карту</a></p>-->


</div>
<!--<div class="dashboard-actions">-->
<!--    -->
<!--    <a class="btn btn-primary" th:href="@{/doctor/account/{id}(id=${loggedInDoctorId})}">Мой аккаунт</a>-->
<!--    &lt;!&ndash; Другие действия на дашборде &ndash;&gt;-->
<!--</div>-->

<div class="container">
    <div class="profile">
        <h2>Профиль</h2>
        <p><strong>Имя:</strong> <span th:text="${patient.firstName} + ' ' + ${patient.lastName}"></span></p>
        <p><strong>Дата рождения:</strong> <span th:text="${patient.dateOfBirth}"></span></p>
        <p><strong>Пол:</strong> <span th:text="${patient.gender}"></span></p>
        <p><strong>Адрес:</strong> <span th:text="${patient.address}"></span></p>
        <p><strong>Телефон:</strong> <span th:text="${patient.phoneNumber}"></span></p>
        <p><strong>Аллергии:</strong> <span th:text="${patient.allergies}"></span></p>
        <p><strong>Контакт для экстренных случаев:</strong> <span th:text="${patient.emergencyContact}"></span></p>
    </div>

    <div class="appointments">
        <h2>Записи к докторам</h2>
        <div th:each="appointment : ${appointments}" class="appointment-item">
            <p><strong>Дата:</strong> <span th:text="${appointment.appointmentDateTime}"></span></p>
            <p><strong>Доктор:</strong> <span th:text="${appointment.doctor.name}"></span></p>
            <p><strong>Специализация:</strong> <span th:text="${appointment.doctor.specialization}"></span></p>
            <p><strong>Причина:</strong> <span th:text="${appointment.reason}"></span></p>
        </div>
    </div>
</div>
</body>
</html>
